/*
    Post content generated from Markdown.
*/

.post__content {
    /* Prevents grid blowout from wide content */
    min-width: 0;
    margin-bottom: var(--space-sm);
    font: var(--post-content-font);
    color: var(--post-content-color);
}

/* Content Link Style (Markdown generated) */
.post__content a {
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    text-decoration-color: var(--link-decoration-color);
    transition: none;
}

.post__content a:hover {
    text-decoration-color: var(--link-hover-decoration-color);
}

/* --- Code styling ----------------------------------------------------- */
/* Code block specifics */
.post__content pre code {
    display: block;
    padding-block: var(--space-sm);
    padding-inline-start: var(--space-md);
    overflow-x: auto;
    /* Prevent wrapping to trigger overflow */
    white-space: pre;
    background-color: transparent; /* Reset background as pre usually handles it */
}

.post__content pre {
    margin-bottom: var(--space-md);
    overflow-x: auto; /* Allow horizontal scroll for long code lines */
    background-color: var(--color-surface-muted);
}

/* --- Highlighted code styling (different from the regular code block) --- */
/* TODO(DB): add dark theme */
/* TODO(DB): Figure why it can't be scaled to content (comment background-color to debug) */
.highlight {
    background-color: var(--color-surface-muted);
}

.chroma {
    /* Override default background color in the highlighting style file */
    background-color: transparent !important;
}

/* Remove extra spacing set for code block above */
.post__content .chroma pre {
    margin-block: 0;
    margin-inline: 0;
    padding-block: 0;
    padding-inline: 0;
    border: none;
}

/* User highlighted code lines */
.chroma .hl {
    /* Add extra opacity background to the highlighted lines */
    background-color: var(--color-surface-muted) !important;
}

/* Specific styling for line number tables to ensure full width */
.post__content .chroma .lntable {
    width: 100%;
    display: table;
}

/* Ensure the line number column shrinks to fit its content */
.post__content .chroma .lntable td:first-child {
    width: 1%; /* Force minimum width */
    white-space: nowrap; /* Prevent numbers from wrapping */
}

/* Code lines are flexed, ensure the line numbers are flexed as well */
.post__content .chroma .lntable td:first-child span {
    display: flex;
}

/* Ensure the code column takes up the remaining space */
.post__content .chroma .lntable td:last-child {
    width: 100%;
}

/* Reset padding set for the non-highlighted code block */
.post__content .chroma .lntable td:last-child code {
    padding-inline-start: 0;
}

/* Add padding to the line column instead to properly handle line highlighting */
.post__content .chroma .lntable td:last-child .line {
    padding-inline-start: var(--space-md);
}

/* Reset styling for the table */
.post__content .chroma .lntable th,
.post__content .chroma .lntable td {
    padding-inline: 0;
    padding-block: 0;
}

/* --- Table styling ---------------------------------------------------- */
.post__content table {
    width: auto;           /* Size to content, not container */
    max-width: 100%;       /* Don't exceed container */
    display: block;        /* Required for overflow-x to work */
    overflow-x: auto;      /* Horizontal scroll for wide tables */
    border-collapse: collapse;
    margin-bottom: var(--space-md);
    border: none;          /* No outer border - cell borders provide structure */
}

.post__content th,
.post__content td {
    padding-block: var(--space-sm);
    padding-inline: var(--space-sm);
    border: var(--border);
    text-align: left;
}

.post__content th {
    background-color: var(--color-surface-muted);
    font-weight: bold;
}

/* TODO(DB): TBD if I want to use zebra striping for tables, (I don't think so)
/* .post__content tr:nth-child(even) {
    background-color: var(--color-surface-muted);
} */

/* --- Blockquote styling ----------------------------------------------- */
.post__content blockquote {
    margin: 0 0 var(--space-md) 0;
    padding-block: var(--space-sm);
    padding-inline: var(--space-md);
    border-left: 4px solid var(--color-muted);
    /* TODO(DB): Decide if I want to use the accent or main color here instead */
    color: var(--color-muted);
    background-color: var(--color-surface-muted);
}

.post__content blockquote p:last-child {
    margin: 0;
}

/* Nested blockquotes */
.post__content blockquote blockquote {
    margin: 0;
    padding-right: 0;
}