{{/*
    This is the template for displaying a single page content (a blog post).
    It renders the post title, metadata, table of contents, main content, tags,
    related posts, and comments.
*/}}
{{ define "content" }}
  {{ $page := . }}
  {{ "<!-- starting of single.html -->" | safeHTML }}
  <div class="res-cons">
    {{ partial "toc" $page }}
    <article class="post">
      <header>
        <h1 class="post-title">{{ $page.Title }}</h1>
      </header>
      {{ partial "post-meta.html" $page }}
      <div class="post-content">
        {{ $page.Content }}
      </div>

      {{ partial "tags" $page }}

      {{ if eq $page.Type .Site.Params.BlogType }}
        {{ partial "related" $page }}
      {{ end }}
    </article>
    {{ partial "comments" $page }}
  </div>

  {{ if findRE "<pre" $page.Content 1 }}
    {{- /* Only load code copy logic if the content contains code */ -}}
    {{ partial "code-copy" $page }}
  {{ end }}
  {{ "<!-- ending of single.html -->" | safeHTML }}
{{ end }}
