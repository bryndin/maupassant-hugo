{{/*
    This is the list template for regular sections (e.g., /posts/).
    It paginates the pages in the section and displays a list of summaries.
*/}}
{{/* TODO(DB): add $page, to follow the pattern of the baseof.html */}}
{{ define "content" }}
  {{- $page := . -}}
  {{ "<!-- starting of section.html -->" | safeHTML }}
  {{- $paginator := $page.Paginate $page.Data.Pages.ByDate.Reverse 10 }}
  {{ range $index, $post := $paginator.Pages }}
    {{ if not $post.Params.hidden }}
      <article class="post">
        <header>
          <h1 class="post-title">
            <a href="{{ $post.Permalink }}" title="{{ $post.Title }}">{{ $post.Title }}</a>
          </h1>
        </header>
        {{ partial "post-meta.html" $post }}
        <div class="post-content">
          {{ $post.Summary }}{{ if $post.Truncated }}……{{ end }}
        </div>
        {{ if or $post.Truncated $post.Params.Summary }}
          <p class="post-readmore">
            <a href="{{ $post.Permalink }}">{{ i18n "continueReading" }}</a>
          </p>
        {{ end }}
      </article>
    {{ end }}
  {{ end }}
  {{ partial "paginator" $page }}
  {{ "<!-- ending of section.html -->" | safeHTML }}
{{ end }}
